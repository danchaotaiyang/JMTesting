<template>
<transition name="quizzes">
    <div class="quizzes">
        <div class="introduce">
            <div class="title">{{part && part.name || '加载中...'}}</div>
            <div class="period icn-calendar">有效期5天</div>
            <div class="timing icn-clock" v-if="!isAssignment">{{remaining || '--'}}</div>
            <div class="cardView icn-list" @click="viewCard">答题卡</div>
        </div>
        <swiper class="subject" :options="swiperOption">
            <swiper-slide v-for="(subject, index) in views" :key="index">
                {{subject.order || ''}}
                <div class=stuff></div>
                <div class=options></div>
            </swiper-slide>
        </swiper>
    </div>
</transition>
</template>

<script>
import {difference, cloneDeep, isEmpty} from '@/assets/js/util';
import {swiper, swiperSlide} from 'vue-awesome-swiper';
import {mapGetters} from 'vuex';

let interval, timeout, outs;

let paperType = 0, answer_status, is_answer, show_status;

const parts = [
    {
        part: {id: 1, name: 'PartⅠ：Vocabulary and Grammar '},
        subjects: [
            {order: 1, reply: '', right: 'B'}, {order: 2, reply: '', right: 'A'}, {order: 3, reply: '', right: 'C'}, {order: 4, reply: '', right: 'A'}, {order: 5, reply: '', right: 'B'}, {order: 6, reply: '', right: 'A'}, {order: 7, reply: '', right: 'B'}, {order: 8, reply: '', right: 'A'}, {order: 9, reply: '', right: 'A'}, {order: 10, reply: '', right: 'A'}, {order: 11, reply: '', right: 'A'}, {order: 12, reply: '', right: 'B'},
            {order: 13, reply: '', right: 'A'}, {order: 14, reply: '', right: 'A'}, {order: 15, reply: '', right: 'C'}, {order: 16, reply: '', right: 'A'}, {order: 17, reply: '', right: 'A'}, {order: 18, reply: '', right: 'A'}, {order: 19, reply: '', right: 'C'}, {order: 20, reply: '', right: 'A'}, {order: 21, reply: '', right: 'B'}, {order: 22, reply: '', right: 'A'}, {order: 23, reply: '', right: 'C'}, {order: 24, reply: '', right: 'A'},
            {order: 25, reply: '', right: 'C'}, {order: 26, reply: '', right: 'A'}, {order: 27, reply: '', right: 'A'}, {order: 28, reply: '', right: 'C'}, {order: 29, reply: '', right: 'C'}, {order: 30, reply: '', right: 'C'}, {order: 31, reply: '', right: 'A'}, {order: 32, reply: '', right: 'A'}, {order: 33, reply: '', right: 'B'}, {order: 34, reply: '', right: 'D'}, {order: 35, reply: '', right: 'A'}, {order: 36, reply: '', right: 'A'},
            {order: 37, reply: '', right: 'A'}, {order: 38, reply: '', right: 'A'}, {order: 39, reply: '', right: 'B'}, {order: 40, reply: '', right: 'D'}, {order: 41, reply: '', right: 'B'}, {order: 42, reply: '', right: 'A'}, {order: 43, reply: '', right: 'B'}, {order: 44, reply: '', right: 'B'}, {order: 45, reply: '', right: 'C'}, {order: 46, reply: '', right: 'C'}, {order: 47, reply: '', right: 'B'}, {order: 48, reply: '', right: 'B'},
            {order: 49, reply: '', right: 'D'}, {order: 50, reply: '', right: 'A'}
        ]
    },
    {
        part: {id: 4, name: 'PartⅡ: Speaking'},
        subjects: [
            {order: 51, reply: '', right: 'B'}, {order: 52, reply: '', right: 'D'}, {order: 53, reply: '', right: 'D'}, {order: 54, reply: 'C', right: 'D'}, {order: 55, reply: 'B', right: 'C'}, {order: 56, reply: 'B', right: 'D'}, {order: 57, reply: 'B', right: 'C'}, {order: 58, reply: 'B', right: 'B'}, {order: 59, reply: 'D', right: 'C'}, {order: 60, reply: 'C', right: 'D'},
            {order: 61, reply: '', right: 'C'}, {order: 62, reply: '', right: 'B'}, {order: 63, reply: '', right: 'D'}, {order: 64, reply: '', right: 'C'}, {order: 65, reply: 'E', right: 'A'}, {order: 66, reply: 'E', right: 'D'}, {order: 67, reply: 'C', right: 'C'}, {order: 68, reply: 'E', right: 'D'}
        ]
    }
];

const qsAll = [
    {part: 1, order: 1, title: 'Adequate', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '满足'}, {op_key: 'B', op_content: '充足'}, {op_key: 'C', op_content: '富足'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 2, title: 'analysis', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '分析'}, {op_key: 'B', op_content: '赏析'}, {op_key: 'C', op_content: '辨析'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 3, title: 'clarify', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '确信'}, {op_key: 'B', op_content: '确保'}, {op_key: 'C', op_content: '明确'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 4, title: 'commitment', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '投入'}, {op_key: 'B', op_content: '投机'}, {op_key: 'C', op_content: '投射'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 5, title: 'declare', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '宣传'}, {op_key: 'B', op_content: '宣布'}, {op_key: 'C', op_content: '宣战'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 6, title: 'disturb', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '干涉'}, {op_key: 'B', op_content: '干愿'}, {op_key: 'C', op_content: '干扰'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 7, title: 'fierce', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '激动'}, {op_key: 'B', op_content: '激烈'}, {op_key: 'C', op_content: '激情'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 8, title: 'harbor  ', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '包庇'}, {op_key: 'B', op_content: '包容'}, {op_key: 'C', op_content: '包装'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 9, title: 'ignore', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '忽略'}, {op_key: 'B', op_content: '忽然'}, {op_key: 'C', op_content: '忽悠'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 10, title: 'leak', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '泄露'}, {op_key: 'B', op_content: '流露'}, {op_key: 'C', op_content: '雨露'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 11, title: 'mentally', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '精神上'}, {op_key: 'B', op_content: '神经上'}, {op_key: 'C', op_content: '心理上'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 12, title: 'modest', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '中心'}, {op_key: 'B', op_content: '中庸'}, {op_key: 'C', op_content: '中间'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 13, title: 'observe', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '观察  '}, {op_key: 'B', op_content: '观赏  '}, {op_key: 'C', op_content: '观点   '}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 14, title: 'optional', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '选择的'}, {op_key: 'B', op_content: '选举的'}, {op_key: 'C', op_content: '选拔的'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 15, title: 'patent', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '专业  '}, {op_key: 'B', op_content: '专长  '}, {op_key: 'C', op_content: '专利   '}, {op_key: 'D', op_content: ' I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 16, title: 'preserve', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '保留  '}, {op_key: 'B', op_content: '保护  '}, {op_key: 'C', op_content: '保险   '}, {op_key: 'D', op_content: ' I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 17, title: 'reveal', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '显示'}, {op_key: 'B', op_content: '展示'}, {op_key: 'C', op_content: '警示'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 18, title: 'routine', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '常规'}, {op_key: 'B', op_content: '常识'}, {op_key: 'C', op_content: '常项'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 19, title: 'scenery  ', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '颜色'}, {op_key: 'B', op_content: '润色'}, {op_key: 'C', op_content: '景色'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 20, title: 'splash', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '泼洒'}, {op_key: 'B', op_content: '倾泻'}, {op_key: 'C', op_content: '注入'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 21, title: 'switch', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '转帐'}, {op_key: 'B', op_content: '转移'}, {op_key: 'C', op_content: '转变'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 22, title: 'terminal', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '终点'}, {op_key: 'B', op_content: '重点'}, {op_key: 'C', op_content: '中点'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 23, title: 'thus', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '如果'}, {op_key: 'B', op_content: '如似'}, {op_key: 'C', op_content: '如此'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}}, {part: 1, order: 24, title: 'tuition', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '学费'}, {op_key: 'B', op_content: '车费'}, {op_key: 'C', op_content: '餐费'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 25, title: 'tutor', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '教育'}, {op_key: 'B', op_content: '教学'}, {op_key: 'C', op_content: '教师'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 26, title: 'pernicious', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '有害的'}, {op_key: 'B', op_content: '有益的'}, {op_key: 'C', op_content: '有趣的'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}}, {part: 1, order: 27, title: 'prohibit', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '禁止'}, {op_key: 'B', op_content: '停止'}, {op_key: 'C', op_content: '截止'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}}, {part: 1, order: 28, title: 'detrimental', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '有益的'}, {op_key: 'B', op_content: '有趣的'}, {op_key: 'C', op_content: '有害的'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 29, title: 'ethos', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '回答'}, {op_key: 'B', op_content: '回复'}, {op_key: 'C', op_content: '回声'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 30, title: 'deteriorate', type: 0, note: '词汇测试：选择正确的释义', options: [{op_key: 'A', op_content: '变化'}, {op_key: 'B', op_content: '转化'}, {op_key: 'C', op_content: '恶化'}, {op_key: 'D', op_content: 'I don’t know'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 31, title: 'The newcomer went to the library the other day and searched for ____he could find about Mark Twain.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'whatever'}, {op_key: 'B', op_content: 'however'}, {op_key: 'C', op_content: 'wherever'}, {op_key: 'D', op_content: 'whichever'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 32, title: 'Maria has written two novels, both of ____have been made into television series.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'which'}, {op_key: 'B', op_content: 'what'}, {op_key: 'C', op_content: 'that'}, {op_key: 'D', op_content: 'them'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 33, title: 'We ____have bought so much food now that Suzie won’t be with us for dinner.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'may not'}, {op_key: 'B', op_content: 'needn’t'}, {op_key: 'C', op_content: 'can’t'}, {op_key: 'D', op_content: 'mustn’t'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 34, title: 'Traditionally, _____in New England on Thanksgiving Day.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'is served sweet cider'}, {op_key: 'B', op_content: 'when sweet cider is served'}, {op_key: 'C', op_content: 'when served is sweet cider'}, {op_key: 'D', op_content: 'sweet cider is served'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 35, title: 'In 1964____of Henry Ossawa Tanner’s paintings was shown at the Smithsonian Institution.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'a major collection'}, {op_key: 'B', op_content: 'that a major collection'}, {op_key: 'C', op_content: 'a collection was major'}, {op_key: 'D', op_content: 'was a major collection'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 36, title: 'Sarah made ____to the airport just in time to catch her plane this morning.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'it'}, {op_key: 'B', op_content: 'this'}, {op_key: 'C', op_content: 'that'}, {op_key: 'D', op_content: 'herself'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 37, title: 'I don’t know about you, but I’m sick and tired of this weather.   ______.I can’t stand all this rain.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'So am I'}, {op_key: 'B', op_content: 'I don’t care'}, {op_key: 'C', op_content: 'It’s hard to say'}, {op_key: 'D', op_content: 'I hope not'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 38, title: 'Having finished her project, she was invited by the school _____to the new students.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'to speak'}, {op_key: 'B', op_content: 'to have spoken'}, {op_key: 'C', op_content: 'having spoken'}, {op_key: 'D', op_content: 'speaking'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 39, title: 'Bicycling is good exercise; _____, it does not pollute the air.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'otherwise'}, {op_key: 'B', op_content: 'besides'}, {op_key: 'C', op_content: 'nevertheless'}, {op_key: 'D', op_content: 'therefore'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 40, title: 'He missed ___gold in the high jump, but will get __second chance in the long jump.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: '/ ; a'}, {op_key: 'B', op_content: 'the; the'}, {op_key: 'C', op_content: 'a ; /'}, {op_key: 'D', op_content: 'The; a'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 41, title: 'Queen Elizabeth Ⅱ is often thought to be the richest woman in the world._____,her personal wealth seems rather small.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'Otherwise'}, {op_key: 'B', op_content: 'However'}, {op_key: 'C', op_content: 'Altogether'}, {op_key: 'D', op_content: 'Besides'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 42, title: 'The greater population there is in a locality, ____for water, transportation, and disposal of refuse.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'the greater the need there is'}, {op_key: 'B', op_content: 'greater need'}, {op_key: 'C', op_content: 'is there great need'}, {op_key: 'D', op_content: 'the great need'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 43, title: 'It was not until I came here ____I realized this place was famous, for not only its beauty but also its weather.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'who'}, {op_key: 'B', op_content: 'that'}, {op_key: 'C', op_content: 'before'}, {op_key: 'D', op_content: 'where'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 44, title: 'Look！Somebody ____the sofa. \r\nWell, it wasn’t me. I didn’t do it.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'was cleaning'}, {op_key: 'B', op_content: 'has cleaned'}, {op_key: 'C', op_content: 'had cleaned'}, {op_key: 'D', op_content: 'is cleaning'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 45, title: 'I hear ____boys in your school like playing football in their spare time, though others prefer basketball.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'quite a bit'}, {op_key: 'B', op_content: 'quite a lot'}, {op_key: 'C', op_content: 'quite a few'}, {op_key: 'D', op_content: 'quite a little'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 46, title: 'This restaurant was’t ____that other restaurant we went to.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'as good as half'}, {op_key: 'B', op_content: 'as half good as'}, {op_key: 'C', op_content: 'half as good as'}, {op_key: 'D', op_content: 'good as half as'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 47, title: 'They ____have arrived at lunchtime but their flight was delayed.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'can'}, {op_key: 'B', op_content: 'should'}, {op_key: 'C', op_content: 'must'}, {op_key: 'D', op_content: 'will'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 48, title: 'All the scientific evidence _____that increasing use of chemicals in farming ____damaging our health.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'shows; are'}, {op_key: 'B', op_content: 'shows; is'}, {op_key: 'C', op_content: 'show; is'}, {op_key: 'D', op_content: 'show; are'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 49, title: 'One’s life has value ____one brings value to the life of others.', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'except that'}, {op_key: 'B', op_content: 'no matter how'}, {op_key: 'C', op_content: 'so that'}, {op_key: 'D', op_content: 'as long as'}], stuff: {text: [], audio: [], images: []}},
    {part: 1, order: 50, title: 'Of the millions who saw Haley’s comet in 1986,how many people _____long enough to see it return in the twenty-first century ?', type: 0, note: '语法测试：选择正确的单词或句子', options: [{op_key: 'A', op_content: 'will live'}, {op_key: 'B', op_content: 'will they live'}, {op_key: 'C', op_content: 'living'}, {op_key: 'D', op_content: 'they will be living'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 51, title: 'It’s open to everyone, but students pay an annual fee that’s much less than the general public pay.', type: 0, note: '口语试题：划分正确停顿方式', options: [{op_key: 'A', op_content: 'It’s open to /everyone, but students pay an / annual fee that’s much/ less than the general public pay.'}, {op_key: 'B', op_content: 'It’s open to everyone,/ but students pay an annual fee/ that’s much less than the general public pay.'}, {op_key: 'C', op_content: 'It’s/ open to everyone, but students/ pay an annual fee that’s much less than the/ general public pay.'}, {op_key: 'D', op_content: 'It’s open/ to everyone, but students pay an annual fee that’s much less than the general public pay.'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 52, title: 'It’s a training resource - a collection of materials for people to study on their own, or use in their own organizations.', type: 0, note: '口语试题：划分正确停顿方式', options: [{op_key: 'A', op_content: 'It’s a training /resource - a collection of materials for /people to study on their own, or/ use in their own organizations.'}, {op_key: 'B', op_content: 'It’s a training resource/ - a collection /of materials for/ people to study /on their own, or use in their own organizations.'}, {op_key: 'C', op_content: 'It’s a training resource - a collection of /materials for people to study on their own, or/ use in their own organizations.'}, {op_key: 'D', op_content: 'It’s a training resource /- a collection of materials/ for people to study on their own/, or use in their own organizations.'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 53, title: 'I’ve decided to enroll on a part- time management course.', type: 0, note: '口语试题：划分正确停顿方式', options: [{op_key: 'A', op_content: 'I’ve /decided to enroll on a/ part- time management /course.'}, {op_key: 'B', op_content: 'I’ve decided/ to/ enroll on a part- time management course.'}, {op_key: 'C', op_content: 'I’ve decided to enroll on a/ part- time management course.'}, {op_key: 'D', op_content: 'I’ve decided to enroll /on a part- time management course.'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 54, title: 'Provided you warn the refectory in advance, it won’t be a problem.', type: 0, note: '口语试题：划分正确停顿方式', options: [{op_key: 'A', op_content: 'Provided you warn the /refectory in/ advance, it won’t be a problem.'}, {op_key: 'B', op_content: 'Provided you warn the/ refectory in advance, it won’t be a problem.'}, {op_key: 'C', op_content: 'Provided you warn the refectory in advance, /it /won’t be a problem.'}, {op_key: 'D', op_content: 'Provided/ you warn the refectory/ in advance, /it won’t be a problem.'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 55, title: 'Then she’s eligible to join the nursery, which is supervised by a qualified Nursery Nurse.', type: 0, note: '口语试题：划分正确停顿方式', options: [{op_key: 'A', op_content: 'Then she’s /eligible to join the/ nursery, which is supervised by a/ qualified Nursery Nurse.'}, {op_key: 'B', op_content: 'Then /she’s eligible to join the nursery, which is supervised by a qualified Nursery Nurse.'}, {op_key: 'C', op_content: 'Then /she’s eligible to join the nursery, /which is supervised/ by a qualified Nursery Nurse.'}, {op_key: 'D', op_content: 'Then she’s/ eligible /to join the/ nursery, which is/ supervised by a/ qualified Nursery Nurse.'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 56, title: 'S(a)tisfy', type: 0, note: '口语试题：选择与题目单词括号中字母读音一致的单词', options: [{op_key: 'A', op_content: 'arriv(a)l'}, {op_key: 'B', op_content: 't(a)le'}, {op_key: 'C', op_content: 'b(a)lance'}, {op_key: 'D', op_content: 'p(a)ssage'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 57, title: 'Bo(th)er', type: 0, note: '口语试题：选择与题目单词括号中字母读音一致的单词', options: [{op_key: 'A', op_content: 'fai(th)'}, {op_key: 'B', op_content: 'me(th)od'}, {op_key: 'C', op_content: 'nor(th)ern'}, {op_key: 'D', op_content: '(th)reat'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 58, title: 'B(ow)', type: 0, note: '口语试题：选择与题目单词括号中字母读音一致的单词', options: [{op_key: 'A', op_content: 's(ow)'}, {op_key: 'B', op_content: 'sh(ow)er'}, {op_key: 'C', op_content: 'fl(ow)'}, {op_key: 'D', op_content: 'gr(ow)n'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 59, title: 'Pr(o)ve', type: 0, note: '口语试题：选择与题目单词括号中字母读音一致的单词', options: [{op_key: 'A', op_content: 'n(o)d'}, {op_key: 'B', op_content: 'pl(o)t'}, {op_key: 'C', op_content: 'rem(o)ve'}, {op_key: 'D', op_content: 'r(o)ll'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 60, title: 'Surfa(c)e', type: 0, note: '口语试题：选择与题目单词括号中字母读音一致的单词', options: [{op_key: 'A', op_content: 'dis(c)overy'}, {op_key: 'B', op_content: '(c)ondition'}, {op_key: 'C', op_content: 'spe(c)ial'}, {op_key: 'D', op_content: '(c)ertain'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 61, title: 'More importantly it’s full of equipment that’s ______to collect data. So, it can help us in building up a profile of different factors which work together within the world’s oceans.', type: 0, note: '口语试题：选择划线部分中应该填入的词汇。', options: [{op_key: 'A', op_content: 'occupied'}, {op_key: 'B', op_content: 'greatly'}, {op_key: 'C', op_content: 'designed'}, {op_key: 'D', op_content: 'doubtful'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 62, title: 'After about five hours on the surface the float _____sinks, beginning the whole process again.', type: 0, note: '口语试题：选择划线部分中应该填入的词汇。', options: [{op_key: 'A', op_content: 'wonderfully'}, {op_key: 'B', op_content: 'automatically'}, {op_key: 'C', op_content: 'normally'}, {op_key: 'D', op_content: 'perfectly'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 63, title: 'I’m struck by the awesome beauty of the place. It’s _____but you can really only visit it in the summer months.', type: 0, note: '口语试题：选择划线部分中应该填入的词汇。', options: [{op_key: 'A', op_content: 'awful'}, {op_key: 'B', op_content: 'observant'}, {op_key: 'C', op_content: 'stingy'}, {op_key: 'D', op_content: 'magnificent'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 64, title: 'how can you be______ of this?', type: 0, note: '口语试题：选择划线部分中应该填入的词汇。', options: [{op_key: 'A', op_content: 'known'}, {op_key: 'B', op_content: 'ooze'}, {op_key: 'C', op_content: 'certain'}, {op_key: 'D', op_content: 'awareness'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 65, title: 'Apes get a large ______of their food by ‘fishing’ ants from ant hills.', type: 0, note: '口语试题：选择划线部分中应该填入的词汇。', options: [{op_key: 'A', op_content: 'proportion'}, {op_key: 'B', op_content: 'chart'}, {op_key: 'C', op_content: 'mass'}, {op_key: 'D', op_content: 'mess'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 66, title: 'ren·o·va·tion', type: 0, note: '口语试题：请选择单词重音标注正确的选项。', options: [{op_key: 'A', op_content: 'ren'}, {op_key: 'B', op_content: 'o'}, {op_key: 'C', op_content: 'tion'}, {op_key: 'D', op_content: 'va'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 67, title: 'en·dur·ance', type: 0, note: '口语试题：请选择单词重音标注正确的选项。', options: [{op_key: 'A', op_content: 'ance'}, {op_key: 'B', op_content: 'en'}, {op_key: 'C', op_content: 'dur'}, {op_key: 'D', op_content: 'dur·ance'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}},
    {part: 4, order: 68, title: 'res·i·den·cy', type: 0, note: '口语试题：请选择单词重音标注正确的选项。', options: [{op_key: 'A', op_content: 'cy'}, {op_key: 'B', op_content: 'den'}, {op_key: 'C', op_content: 'i'}, {op_key: 'D', op_content: 'res'}, {op_key: 'E', op_content: '我不确定'}], stuff: {text: [], audio: [], images: []}}
];

export default {
    data() {
        return {
            // viewCard: false,
            // viewRead: 0,
            curIndex: 1,
            autoplay: false,
            keep: false,
            swiperOption: {
                loop: true,
                autoplay: true
            },
            views: []
        };
    },
    components: {swiper, swiperSlide},
    methods: {
        getStorage() {
            // 获取storage数据
            let storage = {}, stores = ['userInfo', 'type', 'hasAnswer', 'lastAnswer', 'curOrder', 'remaining', 'isAssignment', 'hasReport'];
            stores.forEach(store => storage[store] = localStorage.getItem(store));
            storage.lastAnswer = storage.lastAnswer || 1;
            storage.curOrder = storage.curOrder || 1;
            return storage;
        },
        onLoad({viewCard}) {
            if (viewCard) {
                this.viewCard = viewCard;
            }
            this.beginAnswer = 1;
            // this.audioCtx = wx.createAudioContext('audios');
            this.audioCtx = {};
        },
        onShow() {
            // 记录：开始答题时间
            let startTime = localStorage.getItem('startTime');
            if (!startTime) {
                localStorage.setItem('startTime', new Date().getTime());
            }
            // 页面显示初始页面状态
            // type            1 尊享版  0 基础版
            // hasAnswer       1 已开始答题
            // isAssignment    1 已交卷
            // curOrder        离开页面时的题号
            // remaining       计算得出的剩余答题时间
            let {type, hasAnswer, isAssignment, curOrder} = getStorage(), remaining = this.computeTime();
            if (!isAssignment) {
                // 如果未交卷
                if (remaining > 0) {
                    // 如果剩余时间大于0，则开始计时
                    this.setTimeStart();
                } else {
                    // 否则不计时，且剩余时间显示为0
                    remaining = 0;
                }
            } else {
                // 如果已交卷，则不会进入答题页，进入报告页。
                // 在report页面获取答题用时时长，赋值给remaining，此值在 report/index.js 存入
                remaining = localStorage.getItem('done_time');
            }
            // this.setData({ type, hasAnswer, remaining, isAssignment, length: this.paper.length });

            this.type = type;
            this.hasAnswer = hasAnswer;
            this.remaining = remaining;
            this.isAssignment = isAssignment;
            this.length = this.paper.length;
            // this.parts = this.parts,

            // 初始默认题
            this.computeView(curOrder);
            // 判断：当前题目存在音频材料，并且处于播放状态(isPlaying = 1)则继续播放音频
            if (this.hasStuffAudio && this.isPlaying) {
                this.audioPlay();
            }
        },
        onHide() {
            // 页面隐藏暂停倒计时
            this.setTimeEnd();
            // 音频材料暂停播放
            this.audioPause(this.isPlaying);
        },
        onUnload() {
            // 页面卸载停止音频播放
            this.setTimeEnd();
            // 音频材料停止
            this.audioPause();
        },
        computeTime() {
            // 计算时间
            let {type, remaining} = getStorage();
            remaining = remaining || (type ? 90 : 60);
            if (remaining < 0) remaining = 0;
            return remaining;
        },
        setTimeStart() {
            // 开始计时
            let that = this, remaining = this.computeTime();
            console.log('开始计时-剩余时间', remaining);
            // 设置：页面显示剩余时间
            // this.setData({ remaining });
            this.remaining = remaining;
            interval = setInterval(() => {
                // 开始计时
                // 获取当前剩余时间
                let remaining = this.computeTime();
                // 递减
                remaining -= 1;
                // 如果剩余时间小于0，则设置为0
                if (remaining < 0) {
                    remaining = 0;
                }
                // 缓存剩余时间
                localStorage.setItem('remaining', remaining);
                // 设置：剩余时间的显示
                // this.setData({ remaining });
                this.remaining = remaining;
                // 如果剩余时间为0，则停止计时
                if (remaining === 0) {
                    that.setTimeEnd();
                    console.log('答题时间到', remaining);
                } else {
                    console.log('计时中-剩余时间', remaining);
                }
            }, 60000);
        },
        setTimeEnd() {
            // 停止计时
            clearInterval(interval);
        },
        setValue(order, value, cb) {
            // 将答案分别存入
            let currSubject = this.view.find(item => item.order === order),
                part = this.parts.find(item => item.part.id === currSubject.part),
                cardSubject = part.subjects.find(item => item.order === currSubject.order);

            // 视图与试卷同步答案
            currSubject.reply = value;
            cardSubject.reply = value;
            // 同步视图与答题卡数据
            // this.setData({ view: this.view, parts: this.parts });
            typeof cb === 'function' && cb();
        },
        nextView(curOrder, curValue) {
            // 此时停止autoplay，即切换下一题完毕
            // this.setData({ autoplay: false, keep: true });
            this.autoplay = false;
            this.keep = true;
            // 提交题号及答案
            let subject = {order: curOrder, reply: curValue};
            // 合并参数
            let params = Object.assign({}, cloneDeep(this.params), subject);
            // 选择下一题
            if (curOrder === this.paper.length) {
                // 如果当前题号为最后一题，选择下一题操作变为展示答题卡
                this.viewCard();
            } else {
                // 否则80毫秒后切换下一题
                timeout = setTimeout(() => {
                    // 利用swiper的autoplay属性切换下一题，不能手动干预current，否则动画会反向滑动
                    // 提交对应题号及答案
                    postJson('binexam/saveItem', params, () => {
                        // this.setData({ autoplay: true });
                        this.autoplay = true;
                    });
                    clearTimeout(timeout);
                }, 80);
                timeout = setTimeout(() => {
                    // this.setData({ autoplay: false });
                    this.autoplay = false;
                    clearTimeout(timeout);
                }, 160);
            }
        },
        computeView(curOrder) {
            // 计算显示题目
            // 判断当前题号
            curOrder = curOrder || 1;
            curOrder = curOrder > this.paper.length ? 1 : curOrder;
            // length 题目总数  prevOrder 上一题号  nextOrder 下一题号
            let length = this.paper.length, prevOrder = curOrder - 1, nextOrder = curOrder + 1;
            // 判断上一题号与下一题号
            prevOrder = prevOrder < 1 ? length : prevOrder;
            nextOrder = nextOrder > length ? 1 : nextOrder;
            // 上一组题题号数组
            // let prevOrders = [...this.view.map(item => item.order)];
            let prevOrders = this.view.map(item => item.order);
            // 下一组题题号数组
            let nextOrders = [prevOrder, curOrder, nextOrder];
            // 将要获取的题号数组
            let quest = difference(nextOrders, prevOrders);
            // 被替换的题号数组
            let surplus = difference(prevOrders, nextOrders), index = [];

            // 保存当前题号到storage
            localStorage.setItem('curOrder', curOrder);
            // 收集要被替换的题号的数组索引
            surplus.forEach(i => index.push(prevOrders.indexOf(i)));
            // 获取将要获取的题号数组内的题目数据添加到视图数据中
            quest.forEach((order, qat) => {
                let idx = index.length ? index[qat] : qat;
                idx = idx > this.view.length ? 0 : idx;
                this.view[idx] = this.paper.find(sub => sub.order === order);
            });
            // 获取当前题目的索引
            let curIndex = this.view.findIndex(i => i.order === curOrder);
            // 获取当前题目数据
            let curSubject = this.view.find(item => item.order === curOrder);
            // 获取当前题目的part信息
            let part = this.parts.find(item => item.part.id === curSubject.part).part;
            // 设置当前题
            this.setCurrent(curSubject, part, curIndex);
            // 返回相关数据
            return {curOrder, curIndex, prevOrder, nextOrder, prevOrders, nextOrders, quest, surplus, index};
        },
        setCurrent(curSubject, part, curIndex) {
            // 获取上一题音频材料地址
            // 获取当前题材料信息
            let {order, hasStuffText, hasStuffAudio, hasStuffImg, stuff} = curSubject, hasStuff = hasStuffText || hasStuffAudio || hasStuffImg;
            let isPlaying = this.isPlaying;
            // 判断：当前题目音频材料并设置状态
            if (!hasStuffAudio || hasStuffAudio && (!this.audioSrc || this.audioSrc !== stuff.audio[0])) {
                isPlaying = 0;
                this.audioPause();
                this.audioSrc = stuff.audio[0];
            }
            this.part = part;
            this.order = order;
            this.curIndex = curIndex;
            this.stuff = stuff;
            this.hasStuff = hasStuff;
            this.hasStuffText = hasStuffText;
            this.hasStuffAudio = hasStuffAudio;
            this.hasStuffImg = hasStuffImg;
            this.isRead = 0;
            this.autoplay = false;
            this.isPlaying = isPlaying;

            outs = setTimeout(() => {
                // wx.hideLoading();
                clearTimeout(outs);
                this.keep = false
            }, 500);
        },
        changeSubject(e) {
            // 滑动swiper获取题目
            // 获取当前swiper-item对应的题号
            let curIndex = e.detail.current, {order} = this.view[curIndex];
            this.keep = true;
            // 通过当前的题号设置当前视图数据
            this.computeView(order);
        },
        setSubject(e) {
            // 从答题卡获取题目
            // 获取点击元素的题号
            this.autoplay = false;
            this.keep = true;
            let curOrder = Number(e.currentTarget.dataset.order);
            // 通过当前的题号设置当前视图数据
            this.computeView(curOrder);
            // 从答题卡选择题目后，隐藏答题卡
            this.viewCard = false;
        },
        choose(e) {
            // 选择题答案
            // 清除timeout
            this.keep = true;
            clearTimeout(timeout);
            // 获取当前题号及答案
            let {order, value} = e.currentTarget.dataset;

            if (order === 1 && !this.hasAnswer) {
                // 如果当前题号为1，并且被标记过已开始答题
                localStorage.setItem('hasAnswer', 1);
                this.hasAnswer = 1;
            }
            // 设置当前选择获得的formId
            this.params.formId = e.detail.formId || '';
            // 保存对应题号答案
            this.setValue(order, value, () => {
                this.nextView(order, value);
            });
        },
        fillView(e) {
            // 填空题答案
            let order = e.currentTarget.dataset.order, value = e.detail.value;
            // 清除填空题答案空格，置换中文分隔符
            value = value.replace(/ /g, '');
            value = value.replace(/，/g, ',');
            if (!value) return false;
            this.setValue(order, value, () => {
                this.nextView(order, value);
            });
        },
        postAnswer(formId) {
            // 提交试卷
/*
            wx.showLoading({
                title: '正在提交...',
                mask: true
            });
*/
            let answer = [];
            // 提取题号及对应答案
            this.parts.forEach(item => answer.push(...cloneDeep(item.subjects)));
            // 获取提交时间
            let {type, remaining} = getStorage(), total = type ? 90 : 60;
            let done_time = total - (remaining || total - 1);
            if (done_time <= 0) {
                done_time = 1;
            }
            let startTime = localStorage.getItem('startTime');
            console.warn('开始答题时间', new Date(startTime));
            console.warn('提交答案-剩余时间', remaining);
            console.warn('提交答案-持续时间', done_time);
            let param = Object.assign({}, cloneDeep(this.params), {answer, done_time, formId});
            postJson('binexam/answer', param, ({result, errormsg}) => {
                // wx.hideLoading();
                if (result === -1) throw errormsg;
                // 提交成功转至报告流程
                // wx.redirectTo({url: '/pages/report/index'});
                this.$router.push({
                    path: '/report'
                });
            });
        },
        sendCard(e) {
            // 交卷动作
            let that = this, hasEmpty = 0;
            this.paper.forEach(i => hasEmpty += i.reply !== '' ? 0 : 1);
            // 提示：如果有未答题目提示未作答，否则提示交卷后不可修改
/*
            wx.showModal({
                title: '确认交卷',
                content: hasEmpty > 0 ? '本试题还有题目未作答' : '交卷后不可修改答案',
                showCancel: true,
                confirmText: '交卷',
                success({confirm}) {
                    // 确认交卷提交
                    if (confirm) that.postAnswer(e.detail.formId);
                },
                fail(e) {
                    console.log('quizzes, 290', e);
                }
            });
*/
        },
        timeUpdate(e) {
            this.audioCurTime = e.detail.currentTime;
        },
        play() {
            this.isLoading = 0;
        },
        audioPlay() {
            // 获取最新材料信息(包含当前音频材料seek)
            let stuff = this.paper.find(i => i.order === this.order).stuff;
            // 设置：当前音频路径
            this.audioCtx.setSrc(stuff.audio[0]);
            // 判断：如果当前音频播放记录存在则跳至记录位置
            if (stuff.audioCurTime) {
                this.audioCtx.seek(stuff.audioCurTime);
            }
            // 设置：播放状态
            // this.setData({isPlaying: 1, isLoading: 1});
            this.isPlaying = 1;
            this.isLoading = 1;
            // 开始播放
            this.audioCtx.play();
        },
        audioPause(p) {
            if (!this.audioCtx) return false;
            this.audioSeek();
            this.audioCtx.pause();
            // this.setData({isPlaying: p || 0, isLoading: 0});
            this.isPlaying = p || 0;
            this.isLoading = 0;
        },
        audioEnd() {
            this.audioSeek();
            this.audioCurTime = 0;
            // this.setData({isPlaying: 0});
            this.isPlaying = 0;
        },
        autoToggle() {
            if (this.isPlaying) {
                this.audioPause();
            } else {
                this.audioPlay();
            }
        },
        audioSeek() {
            this.paper.forEach(i => {
                if (i.stuff.audio[0] && this.audioSrc && i.stuff.audio[0] === this.stuff.audio[0]) {
                    i.stuff.audioCurTime = this.audioCurTime;
                }
                return i;
            });
        },
        viewCard() {
            // 显示答题卡
            // this.setData({viewCard: true, autoplay: false, keep: false});
            this.viewCard = true;
            this.autoplay = false;
            this.keep = false;
        },
        hideCard(b) {
            // 隐藏答题卡
            if (!b) return false;
            // this.setData({viewCard: false});
            this.viewCard = false
        },
        viewRead() {
            // 阅读模式
            // this.setData({isRead: !this.isRead});
            this.isRead = !this.isRead;
        },
        init() {

            let {type, remaining} = this.getStorage();
            // 防止：数据加载完毕前，点击首页按钮跳页错误
            /*
                        wx.showLoading({
                            title: '请稍后...',
                            mask: true
                        });
            */
            // 重置已有栈数据
            this.parts = [];
            this.paper = [];
            this.view = [];

            // 解构请求所得数据
            // let { paper_type, answer_status, is_answer, show_status, parts, qsAll } = data.data;
            let paperType = 0;
            // 设置：请求参数 paper_type
            this.params.paper_type = paperType;
            this.parts = parts;
            // 设置材料状态
            this.paper = qsAll.map(item => {
                item.hasStuffText = !isEmpty(item.stuff.text);
                item.hasStuffAudio = !isEmpty(item.stuff.audio);
                item.hasStuffImg = !isEmpty(item.stuff.images);
                return item;
            });
            // 合并题目数据与试卷数据
            this.parts.forEach(item => {
                item.subjects.forEach(subject => {
                    Object.assign(this.paper.find(sub => sub.order === subject.order), subject);
                });
            });
            // 存入本地缓存
            // 如版本有改变，重置题号及时间
            if (remaining === 'undefined') {
                remaining = 60;
            }
            if (type !== paperType) {
                localStorage.setItem('curOrder', 1);
                if (paperType === 1) {
                    remaining = 90;
                }
            }
            localStorage.setItem('remaining', remaining);
            // 试卷类型
            localStorage.setItem('type', paperType);
            // 答题状态
            localStorage.setItem('hasAnswer', is_answer);
            // 交卷状态
            localStorage.setItem('isAssignment', answer_status);
            // 报告状态
            localStorage.setItem('hasReport', show_status);
            // wx.hideLoading();
            typeof cb === 'function' && cb(data);
        }
    },
    created() {
        // let currentOrder = localStorage.getItem('currentOrder') || 1;
        // this.computeView(currentOrder);
        this.init();
    }
}
</script>

<style lang='scss' rel='stylesheet/scss' scoped>
@import '../assets/sass/util/variables';
@import '../assets/sass/util/mixins';

.quizzes {
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.subject {
    position: fixed;
    top: 11vw;
    width: 100%;
    bottom: 0;
    background-color: #ccc;
}

.quizzes-enter-active,
.quizzes-leave-active {
    @include transition(all .15s ease-out);
}

.quizzes-enter,
.quizzes-leave-to {
    @include transform(translate(100%, 0));
}
</style>
